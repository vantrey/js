<script>
  //!!!Выполняем с помощью цикла "for" и метода массивов "map".
  function itMAp(arr, cbFn) {
    let mappedArr = [];
    for (i = 0; i < mappedArr.length; i++) {
      mappedArr[i] = cbFn(arr[i]);
    }
    return mappedArr;
  }

  //1.Преобразовать массив чисел в массив строк.
  // Используем метод Number.prototype.toString().
  // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Number/toString

  let arrNum = [1, 2, 3, 4];
  let arrStr = [];
  arrStr = arrNum.map(item => item.toString());
  console.log(arrStr);

  // 2.Преобразовать массив строк в массив строк с верхним регистром.
  // Используем метод String.prototype.toUpperCase().
  //https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase

  let strings = ['age', 'name', 'table'];
  let newStrings = [];
  newStrings = strings.map(item => item.toUpperCase());

  console.log(newStrings);

  // 3.Преобразовать массив строк в массив, у которого каждый элемент будет начинаться с заглавной буквой.
  // Используем метод String.prototype.substring().
  // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/substring

  let names = ['andrey', 'vasia', 'kirill'];
  let namesCapLetter = [];

  namesCapLetter = names.map(item => {
    return (
      `${item[0].toUpperCase()}${item.substring(1)}`
    )
  });

  console.log(namesCapLetter);

  // 4.Преобразовать массив строк в массив объектов:
  // [{ name: ‘Andrey’ }, { name: ‘Vasja’ },{ name: ‘Kirill’ }].

  let myNames = ['Andrey', 'Vasja', 'Kirill'];
  let persons = [];

  persons = myNames.map(item => ({name: item}));

  console.log(persons);

  // 5.Есть массив имен и есть массив возрастов.
  // Каждый индекс имени совпадает с индексом возраста.
  // Cоздать новый массив, каждый элемент которого будет объектом типа {name: "Alex", age: 18}.
  // Использовать второй параметр колбэка, передаваемого методу "map".

  let friendsNames = ['Andrey', 'Vasja', 'Kirill'];
  let friendsAges = [23, 30, 25];
  let friends = [];

  friends = friendsNames.map((item, i) => ({name: item, age: friendsAges[i]}));

  console.log(friends);

  // 6.Преобразовать массив объектов в массив чисел, элементами которого
  // будут числа (значения возрастов из объектов).

  let students = [{name: 'Alex', age: 23}, {name: 'John', age: 32}, {name: 'Helga', age: 20}]
  let ages = [];

  ages = students.map(item => item.age);

  console.log(ages);

  // 7.Требуется преобразовать исходный массив в массив, элементы которого будут:
  // - если исходный элемент  - число, то новый элемент будет объектом в виде {age: 23};
  // - если строка, то в новом массиве элемент будет той же строкой в верхнем регистре;
  // - в остальных случаях элементы преобразуются в строку ‘not a number or a string’.

  let oldArray = [23, 5, null, true, 'Bob', [], {}];
  let newArray = [];


  newArray = oldArray.map(item => {
    if (typeof item === 'number') {
      return {age: item}
    } else if (typeof item === 'string') {
      return item.toUpperCase()
    } else {
      return 'not a number'
    }
  })
  console.log(newArray);

  // !!!Используем метод массивов 'filter'!!!

  function itFilter(arr, cbFn) {
    let filtredArr = [];
    for (i = 0; i < filtredArr.length; i++) {
      if (cbFn(arr[i]) === true) {
        filtredArr.push(arr[i]);
      }
    }
    return filtredArr;
  }

  // 8. Создайте новый массив с элементами из исходного массива, которые больше  2.

  let myNumbers = [1, 2, 3, 4];
  let myBigNumbers = [];
  myBigNumbers = myNumbers.filter(item => item > 2);

  console.log(myBigNumbers);

  // 9.Создайте новый массив совершеннолетних пользователей.

  let users = [
    {age: 11, name: 'Vasja'},
    {age: 13, name: 'Ivan'},
    {age: 18, name: 'Katya'},
    {age: 23, name: 'Andrey'}
  ];
  let oldUsers = [];

  oldUsers = users.filter(item => item.age >= 18)

  console.log(oldUsers);

  // 10.Сформируйте из исходного массива массив слов, содержащих более 5 символов.
  let words = ['run', 'execution', 'let', 'function', 'const'];
  let shortWords = [];

  shortWords = words.filter(word => word.length > 5)

  console.log(shortWords);
  console.log(words);


  // 11.Отфильтровать исходный массив таким образом, чтобы в нем были только строки и числа.

  let arr = ['function', 23, null, 'object', 55, 'null', true, undefined]
  let filtredArr = [];

  filtredArr = arr.filter(item => typeof item === 'number' || typeof item === 'string');

  console.log(filtredArr)

  // 12. Удалите из исходного массива чётные числа

  let randomNumbers = [1, 34, 32, 456, 47, 97];
  let oddNumbers = [];

  oddNumbers = randomNumbers.filter(num => num % 2);

  console.log(oddNumbers);

  // 13. Найдите сумму всех элементов массива.
  // Используйте метод массивов 'reduce'.
  // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce

  let arrToSum = [1, 2, 3, 4, 5, 6];
  let sum;

  sum = arrToSum.reduce((sum, num) => sum + num, 0)

  console.log(sum);

  // 14.Создайте функцию "average", которая    принимает массив из чисел
  // и возвращает среднее арифметическое значение элементов массива.

  let array = [1, 2, 3, 4, 5, 6];
  let average = (arr) => {
    return arr.reduce((sum, num) => sum + num) / arr.length;
  };

  console.log(average(array));

  // найти возраст самого взрослого юзера из 9 задаиня

  let MaxAgeUser = users.reduce((max, user) => max > user.age
    ? max
    : user.age,
    0);

  //15.Дан произвольный массив из чисел. Напишите функцию,
  // которая возвращает максимальное значение из массива.
  // Подумайте, каким ещё способом это мложно сделать?
  //-for
  //-forEach
  //-Math
  //-sort

  rArr = [3, 1, 77, 56, 61, 4];

  /*  function max (arr) {
      let max = arr[0];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i]>max){
          max=arr[i];
        }
      }
      return max;
    }*/

  /*  function max(arr) {
      let max = arr[0];
      arr.forEach(num => num > max ? max = num : num)
      return max;
    }*/

  /* function max (arr){
     return Math.max(...arr);
   }*/


  function max(arr) {
    return arr.sort((a, b) => a - b).reverse()[0];
  }

  console.log(max(rArr));
  s = ''
  let arr221 = [...s]
  let correct = arr221.filter(item => item < 'n')
  console.log(s)
  console.log(`${arr221.length - correct.length}/${correct.length}`)


  // Всё сделал? Красавчик! :)))))


  // задача 1 из lern.javascript методы массива

  let strL = 'background-color-white';

  function camelize(str) {

    let arr = str.split('');

    for (i = 0; i < arr.length; i++) {
      if (arr[i] === '-') {
        arr.splice(i, 2, arr[i + 1].toUpperCase())
      }
    }
    return arr.join('');
  }


  let updStrL = camelize(strL)
  console.log(updStrL)

  let strrrrr = '12345'

  function flr(string) {
    return string.slice(1, string.length - 1)
  }

  console.log(flr(strrrrr))

  ww = [3, 5, 77, 23, 1]

  function sumTwoSmallestNumbers(numbers) {
    const arr = numbers.sort((a, b) => (a - b))
    return arr[0] + arr[1]
  }

  console.log(sumTwoSmallestNumbers(ww))

  function encrypt(text, n) {
    if (!text || n <= 0) {
      return text
    } else {
      let acc = text
      for (let i = 0; i < n; i++) {
        const startArr = [...acc].filter((char, i) => i % 2)
        const endArr = [...acc].filter((char, i) => !(i % 2))
        acc = startArr.concat(endArr).join('')
      }
      return acc
    }
  }

  console.log(encrypt('1234567', 2))

  function decrypt(encryptedText, n) {
    if (!encryptedText || n <= 0) {
      return encryptedText
    } else {
      let acc = encryptedText

      for (let i = 0; i < n; i++) {
        let res = []
        let arr = [...acc]
        let endArr = arr.splice(0, Math.floor(arr.length / 2))
        for (let j = 0; j < arr.length; j++) {
          res.push(arr[j])
          res.push(endArr[j])
        }
        acc = res.join('')
      }
      return acc
    }
  }

  console.log(decrypt('4152637', 2))

  function solution(str, ending) {
    str.endsWith(ending)
  }


  /*  function rere(arr) {
      let nn = 0
      arr1 = [...arr]
      arr.forEach((item, index) => {
        for (let i = 0; i < arr.length; i++) {
          if (item === arr[i] && index !== i) {
            arr1.splice(1, i)
          }
        }
      })
      return arr1
    }
    console.log(rere([1,1,1,1,1,2,2]))
    */
  function arithmetic(a, b, operator) {
    let check = () => {
      return (
        operator === 'add' && a + b ||
        operator === 'subtract' && a - b ||
        operator === 'multiply' && a * b ||
        operator === 'divide' && a / b
      )
    }
    if (!check()) return 0
    else return check()
  }

  console.log(arithmetic(3, 3, 'subtract'))

  var gimme = function (inputArray) {
    let order = [...inputArray].sort((a, b) => a - b)
    return inputArray.indexOf(order[1])
  };

  function collision(x1, y1, radius1, x2, y2, radius2) {
    let dist = Math.sqrt(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2))
    return radius1 + radius2 >= dist;
  }

  function findUniq(arr) {
    let sortArr = arr.sort((a, b) => a - b)
    if (sortArr[0] !== sortArr[1]) return sortArr[0]
    else return sortArr[sortArr.length - 1]
  }

  function removeUrlAnchor(url) {
    let arr = [...url]
    if (arr.indexOf('#') === -1) return url
    else return arr.slice(0, arr.indexOf('#')).join('')
  }

  function filter_list(l) {
    return l.filter(l => typeof l === 'number')
  }

  function isTriangle(a, b, c) {
    let arr = [a, b, c].sort((a, b) => a - b)
    return arr[0] + arr[1] > arr[2];
  }


  console.log([...'abcd'])


  const binaryArrayToNumber = arr => {
    return arr.reverse().map((n, i) => {
      if (n === 1) return Math.pow(2, i)
      else return 0
    }).reduce((sum, current) => sum + current, 0)
  }

  /*  let a = 0
    let stop = setInterval(() => {
      console.log(a++)
      if (a === 5) {
        clearInterval(stop)
        console.log ('[[[')
      }
    }, 1000)
    console.log ('[[[')*/

  const binaryArrayToNumber2 = arr => parseInt(arr.join(''), 2);  // parseInt переводит строку в 10-ую систему счисления
  console.log(binaryArrayToNumber([1, 0, 0, 0]))

  data = [[45, 12], [55, 21], [19, -2], [104, 20]]

  function openOrSenior(data) {
    return data.map(item => item[0] >= 55 && item[1] > 7 ? 'Senior' : 'Open')
  }

  console.log(openOrSenior(data))

  /*  let f = (num) => {
      let tm = num.toString().split('').map(r => Number(r))
      let counter = 0
      while (tm.length > 1) {
        counter++
        tm = tm.reduce((acc, cur) => {
          return acc + cur
        })
      }
      return counter
    }*/

  function persistence(num) {
    let convert = (n) => {
      return n.toString().split('').map(n => Number(n))
    }
    let arr = convert(num)
    let counter = 0
    while (arr.length > 1) {
      counter++
      arr = convert(arr.reduce((acc, cur) => acc * cur))
    }
    return counter
  }

  console.log(persistence(39))


  function isSortedAndHow(array) {
    if (Math.min(...array) === array[0] && Math.max(...array) === array[array.length - 1]) {
      return 'yes, ascending'
    } else if (Math.min(...array) === array[array.length - 1] && Math.max(...array) === array[0]) {
      return 'yes, descending'
    } else return 'no'
  }

  let tmp = [1, 2, 6]
  console.log(Math.min(...tmp))

  console.log(isSortedAndHow([1, 2, 3]))

  getRandomColor = () => {
    let randomRed = Math.floor(Math.random() * 256)
    let randomGreen = Math.floor(Math.random() * 256)
    let randomBlue = Math.floor(Math.random() * 256)
    return `rgb(${randomRed},${randomGreen},${randomBlue})`
  }

  getText = (text) => {

    return text.split(' ').map((w, i, words) => {
      if (i === words.length - 1) {
        return [...w].map(ch => '<span style={{color: this._getRandomColor()}}>{ch}&#128152;</span>')
      } else return [...w].map(ch => '<span style={{color: this._getRandomColor()}}>{ch}</span>')
    })

  }
  console.log(getText('zizi top rte'))

  console.log(getRandomColor())

  let parse = parseInt('10000000001000000000101000000001', 2)
  console.log(parse)

  let converterToBin = function (num) {
    let bin = []
    let acc = num
    for (let i = 0; i < acc;) {
      if (acc % 2) {
        bin.push(1)
        acc = Math.floor(acc / 2)
      } else {
        bin.push(0)
        acc = acc / 2
      }
    }
    for (let i = bin.length; i < 8; i++) { // 8 bit
      bin.push(0)
    }
    return bin.reverse().join('')
  }

  function ipToInt32(ip) {
    let converterToBin = function (num) {
      let bin = []
      let acc = num
      for (let i = 0; i < acc;) {
        if (acc % 2) {
          bin.push(1)
          acc = Math.floor(acc / 2)
        } else {
          bin.push(0)
          acc = acc / 2
        }
      }
      for (let i = bin.length; i < 8; i++) { // 8 bit
        bin.push(0)
      }
      return bin.reverse().join('')
    }
    let ipArr = ip.split('.')
    let binArr = ipArr.map(n =>
      converterToBin(Number(n))).join('')
    return parseInt(binArr, 2)
  }

  function ipToInt32r(ip) {
    return ip.split('.').reduce((s, v) => {
      console.log(256 * s + Number(v))
      return 256 * s + Number(v)
    }, 0);
  }

  console.log(1 % 2)
  console.log(Math.floor(1 / 2))
  let bin = '3'
  console.log(bin += '1')
  console.log(converterToBin(1))
  console.log(ipToInt32r('128.32.10.1'))

  function kebabize(str) {
    let arr = [...str]
    let output = arr.map(ch => {
      if (ch.codePointAt(0) > 64 && ch.codePointAt(0) < 91) {
        return `-${ch.toLowerCase()}`
      } else if (ch.codePointAt(0) < 64) {
        return ``
      } else return ch
    }).join('')
    return [...output].map((ch, i) => {
      if (i === 0 && ch === '-') {
        return ''
      } else return ch
    }).join('')
  }

  console.log(kebabize('23453YWERErr5tyYfgjhzZ'))
  console.log('7'.codePointAt(0))
  console.log(String.fromCodePoint(65))
  console.log(3..toString(2)) // перевод в 10-у число в указанную систему счисления
  console.log(parseInt('1101', 2))
  console.log(Math.round(87.49))

  function gracefulTipping(bill) {
    let billWithTip = bill / 100 * 15 + bill
    let limit = billWithTip
    let counter = 1
    for (i = 99; i < limit;) {
      limit /= 10
      counter *= 10
    }
    return billWithTip < 10 ? Math.ceil(billWithTip) :  Math.ceil(billWithTip / (5 * counter)) * (5 * counter)
    /*return billWithTip < 10 ? Math.ceil(billWithTip) :
      billWithTip >= 10 && billWithTip < 99.99 ? Math.ceil(billWithTip / 5) * 5 :
        billWithTip >= 100 && billWithTip < 999.99 ? Math.ceil(billWithTip / 50) * 50 :
          Math.ceil(billWithTip / 500) * 500*/
  }


  console.log(gracefulTipping(1.09))
</script>


&#128152;






